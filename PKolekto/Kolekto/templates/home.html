{% extends "layout.html" %} {% block title %} Pagina inicial {% endblock %} 
{% block main %} 
{% if erro %}
<div class="alert alert-primary" role="alert">{{ erro }}</div>
{% endif %}
<div class="pesquisar">
  <div class="flex space-x-1 pl-0 sm:pl-2 mt-3 sm:mt-0" style="width: 500px">
    <form action="{% url 'pesquisa' %}" method="get">
      <div class="input-group">
        <select class="form-select" id="categorias" name="select">
          {% for categoria in categorias %}
          <option value="{{ categoria }}">{{ categoria }}</option>
          {% endfor %}
        </select>
        <button class="btn btn-primary" type="submit">Pesquisar</button>
      </div>
    </form>
  </div>
</div>

<div class="produtos">
  {% for produto in produtos %}
  <div class="card" style="width: 18rem">
    <img
      width="300"
      height="300"
      src="{{ produto.foto1 }}"
      class="card-img-top"
      alt="{{ produto.nome_produto }}"
    />
    <div class="card-body d-flex justify-content-between flex-column">
      <h5 class="card-title text-start">{{ produto.nome_produto }}</h5>
      <p class="card-text text-start" style="height: 100px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical;">{{ produto.descricao }}</p>
      <p class="card-text text-start" style="font-weight: bold; font-size:28px;">R${{ produto.preco }}</p>
      <a href="{% url 'pagina_produto' produto.id %}" class="btn btn-primary"
        >Detalhes</a
        >
    </div>
  </div>
  {% empty %}
  <h1>Nenhum produto dispon√≠vel.</h1>
  {% endfor %}
</div>

{% if error_message %}
<p>{{ error_message }}</p>
{% endif %} 
{% endblock %}
